---
title: "AAKNN parameters"
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
```


Parameters to optimize:

- Number of archetypes (`narch`): 5, 6, 7, 8
- Min number of neighbors (`vi`): 3, 4, 5
- Max number of neigbors (`vf`): 10, 15
- The boxplot funciton to be used (`plot`): `boxplot()`, `adjbox()`

```{r}
library(tidyverse)

data <- read_csv("aaknn-params.csv")

ggplot(data, aes(x=narch, y=mean, group=interaction(vi, vf, plot), color=plot)) + 
    geom_line() +
    geom_point(aes(size=sd)) +
    facet_wrap(~ rate,scale= "free", ncol=1) +
    scale_y_continuous(labels = scales::percent) +
    scale_size(labels = scales::percent)
```

As can be seen, using the `boxplot()` we obtain a better true positive rate than using the `adjbox()` (while the false positive rate is similar).


```{r}
data <- data %>% filter(plot=="boxplot")

ggplot(data, aes(x=narch, y=mean, group=interaction(vi, vf), color=interaction(vi, vf))) + 
    geom_line() +
    geom_point(aes(size=sd)) +
    facet_wrap(~ rate,scale= "free", ncol=1) +
    labs(color="(vi, vf)") +
    scale_y_continuous(labels = scales::percent) +
    scale_size(labels = scales::percent)
```

Therefore, the configuration that gets better results is:

- `vi`: 5
- `vf`: 10
- `narch`: 6
- `plot`: `boxplot()`